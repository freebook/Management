<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id$ -->
<chapter id="devops"><!-- <?dbhtml dir=""?> -->
	<title>理解 DevOps</title>
	<section id="什么是DevOps?">
		<title>什么是DevOps?</title>
		<para></para>
		<para>首先DevOps 不是一个产品，其次软件工程方法论也不准确。</para>
		<para>在 DevOps 模式下，产品，设计，开发，测试和运维团队更紧密地结合在一起，贯穿应用程序的整个生命周期。通过自动化工具替代手工操作，实现快速，高效，安全的测试，构建，部署项目。</para>
	</section>
	<section id="为什么会诞生DevOps">
		<title>为什么会诞生DevOps?</title>
		<para>随着管理学的不断完善，例如工商管理，被分成很多纵深领域，行政管理，人事管理，财务管理，营销管理，项目管理……等等。</para>
		<para>而软件管理又被细分为：时间管理，范围管理，需求管理，质量管理，风险管理，成本管理......</para>
		<para>由于组织架构的需要，又把人分成很多岗位，每个岗位上紧紧需要一种知识体系。企业按照自身的需要招聘某个领域的人才。</para>
		<para>同时我们学校也按照知识体系划分院系，本科教育程专科趋势，不重视通识教育，最终学生紧紧掌握了微观的知识。</para>
		<para>如果说哲学是科学的科学，那么 DevOps 就是管理的管理。所以我认为 DevOps 是多维度宏观管理学。</para>
	</section>
	<section id="DevOps为什么难以普及呢">
		<title>DevOps 虽好，为什么难以普及呢？</title>
		<para>实施DevOps 第一个遇到的问题就是人才，DevOps 需要经验丰富的跨界人才。第二个问题就是没有案例可循，无法借鉴和参考。</para>
		<para>实施DevOps需要具备管理，开发，测试，运维等等背景的人才。每个领域至少也需要三年的积累，至少需要 3+3+3+3 = 12 年工作经验，多少公司员工都比较年轻，普遍在 3~5年。
			一般员工工作10年以上，遍开始转向管理岗位，或者寻找其他出路。即使转管理岗的员工紧紧负责开发管理或者测试管理…… 不太可能10年的开发，转运维部重头开始。
		</para>
		<para>我上面说过我们教育模式有问题，本科教育应该培养 “T” 型人才，专科教育培养 “I” 型人才，本科教育呈专科化。学校只教会学生一项技能（如Java 开发）,而没有教会学生如何学习。</para>
		<para>在中国企业的年龄歧视 “T” 型人才流失严重。“I”人才只能掌握一项技能解决一个领域的问题，无法完成DevOps 的实施。</para>
		<para>DevOps 不是产品，是一种管理思想，每个企业根据自身特点，制定自己的DevOps规范，所以第二个难点就是，没有案例可循，无法参考。</para>
	</section>
	<section id="软件工程的历史与进化">
		<title>软件工程的历史与进化</title>
		<para>
			传统软件工程学出现的年代互联网还不普及，主要是单机运行的软件，或者C/S结构的软件，其特点是开发周期长，迭代慢，每半年或者一年交付一次。流程主张：
		</para>
		<screen>
		<![CDATA[
需求->设计->开发->测试->交付
		]]>
		</screen>

		<para>进入互联网时代，已B/S为主的软件，交付周期缩短到一个月，在传统软件工程做了改进，放弃了瀑布开发模式，提出了快速迭代，螺旋上升，管理上也逐步完善。出现了软件项目管理，CMM5软件开发成熟度模型。</para>
		<para>随着Web 2.0 和 云计算思想的提出，软件也在发生变化，软件运行不在限于一台物理机，而是多台服务器的集群中，传统的模块或原件，被独立部署在世界各地。</para>
		<orderedlist>
			<title>软件的开发面临前所未有的挑战：</title>
			<listitem>异构平台，软件不限于那种操作系统，例如Unix,Linux,As/400,windows,Mac</listitem>
			<listitem>语言混合开发，不在紧紧使用一种语言开发软件。每一种语言都有他所在领域的优势。</listitem>
			<listitem>分布式，软件再也不是只运行在 一个CPU下，软件被分成很多模块被分布式部署到多台服务上。</listitem>
		</orderedlist>
		<orderedlist>
			<title>这时便出现了极限编程，敏捷开发….等等，同时诞生了新的岗位“产品”，新的思想不断提出，但是仍然无法解决面临的问题。</title>
			<listitem>产品部：需如雪片飞来，需求堆积如山</listitem>
			<listitem>开发部：版本延期，质量问题频发，疲于奔命修复 BUG，刚修复了一个， 又出现新的 Bug</listitem>
			<listitem>测试部：手工测试，升级后问题爆发，测试环境通过，到生产环境就出问题</listitem>
			<listitem>运维部：环境不统一，每次部署都是一场灾难，配置易出错，回撤时间长，</listitem>
			<listitem>团队现状：加班严重，效率地下，每天奔波救火</listitem>
		</orderedlist>
		<para>测试环境无法重现，开发人员直接在线上修改代码，跳过测试直接将代码交给运维升级</para>
		<para>运维事故严重影响运营和广告投放</para>
		<para>人员流动导致代码丢失</para>
		<orderedlist>
			<title>问题的原因在于，他们紧紧从各自部门的角度解决问题，同时 KPI 考核也不合理：</title>
			<listitem>产品从产品的角度解决产品遇到的问题。</listitem>
			<listitem>开发从开发的角度解决开发遇到的问题。</listitem>
			<listitem>测试从测试的角度解决测试遇到的问题。</listitem>
			<listitem>运维从运维的角度解决运维遇到的问题。</listitem>
		</orderedlist>

		<para>实际上现在的软件已经不是当年交付后一个网管就能搞定剩下的工作。同时软件开发交付周期缩的更短，一周甚至每天升级数次，遇到突发事件要做好随时准备升级。</para>
		<para>总结这个时期实际上是： 软件项目管理 加 ITSM (IT Service Management) IT服务管理</para>
		<para>所以聚焦微观管理解决宏观管理问题的做法是错误的，于是诞生了 DevOps。 DevOps 是多维度宏观管理学，是管理的管理。</para>
	</section>
	<section id="为什么很多企业为什么实施DevOps以失败告终">
		<title>为什么很多企业为什么实施 DevOps 以失败告终？</title>
		<para>很多企业实施DevOps 紧紧是软件堆砌，根本没有深入理解 DevOps，吧devops 相关的软件全部安装上，然后做系统集成。</para>
		<orderedlist>
			<title>这时各部门一片抱怨声：</title>
			<listitem>管理层说：项目管理工具不好用。</listitem>
			<listitem>产品说：我不用那个Wiki写需求</listitem>
			<listitem>设计说：版本控制对于PSD这种大文件兼容不好</listitem>
			<listitem>开发说：我们不用 Docker，而我们也不用 maven</listitem>
			<listitem>测试说：怎么随意部署环境，我们还没有测试完，就清空数据了。</listitem>
			<listitem>运维说：我不敢用你的自动发布</listitem>		
		</orderedlist>
		<para>可能用户需要打开浏览器数个窗口，频繁切换才能完成具体工作。</para>
		<para>改变现有的工作方式是非常痛苦的，任何不合理的流程和工作方式已经使用了多年，习惯已经根深蒂固。</para>
		<para>实施devops 需要各部门收集意见，对各个部门培训，等各部门理解了 DevOps 原理和流程后，才能实施。</para>
	</section>
	<section id="持续集成不是DevOps">
		<title>持续集成不是DevOps</title>
		<subtitle>Jenkins 不是 DevOps</subtitle>
		<para></para>
		
	</section>
</chapter>
